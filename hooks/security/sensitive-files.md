---
name: sensitive-files
description: Protect sensitive files from accidental modification
event: PreToolUse
tools: ["Write", "Edit"]
---

# Sensitive Files Hook

Protect certain files from accidental modification.

## Protected Files

### Environment Files

- `.env` (production environment)
- `.env.local`
- `.env.production`

### Credential Files

- `credentials.json`
- `serviceAccountKey.json`
- `*.pem`
- `*.key`

### Lock Files (usually auto-generated)

- `package-lock.json`
- `yarn.lock`
- `pnpm-lock.yaml`
- `Gemfile.lock`
- `Cargo.lock`

### Generated Files

- Files in `dist/`, `build/`, `out/`
- Files in `node_modules/`
- Files in `.next/`

## Action

When attempting to modify protected files:

### For .env files:

- Block and ask: "You're about to modify [file]. This contains sensitive configuration. Are you sure? Please confirm the change is intentional."

### For lock files:

- Block and suggest: "Lock files should be generated by the package manager, not edited directly. Run the appropriate install command instead."

### For generated/dist files:

- Block and suggest: "This file is auto-generated. Modify the source file instead."

## Exceptions

Allow modification when:

- User explicitly confirms the change
- Operation is part of a documented deployment process
- File is `.env.example` or `.env.template`
